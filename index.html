function updateImageAndStatus() {
    const imageContainer = document.getElementById("imageContainer");
    let intervalId = null;

    function updateContent() {
        if (intervalId) {
            clearInterval(intervalId); // Porra de loop do caralho
        }

        const xhr = new XMLHttpRequest();
        const statusParagraph = document.createElement("p");
        statusParagraph.textContent = "Refreshing...";
        imageContainer.appendChild(statusParagraph);

        xhr.open("GET", "https://discord.c99.nl/widget/theme-4/502974588075114509.png", true);

        setTimeout(function() {
            imageContainer.removeChild(statusParagraph);

            const newImage = document.createElement("img");
            newImage.src = "https://discord.c99.nl/widget/theme-4/502974588075114509.png";
            newImage.style.width = "300px";

            while (imageContainer.firstChild) {
                imageContainer.removeChild(imageContainer.firstChild);
            }
            imageContainer.appendChild(newImage);
        }, 20000);

        function updateDots() {
            statusParagraph.textContent = "Refreshing" + ".".repeat((new Date().getTime() / 300) % 4);
            requestAnimationFrame(updateDots);
        }

        updateDots();
    }

    updateContent();

    intervalId = setInterval(updateContent, 20000);
}
